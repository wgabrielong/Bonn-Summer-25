\section{Lecture 3 -- 9th May 2025}\label{sec: lecture 3}
In Lecture \ref{sec: lecture 2}, we constructed the $q$-de Rham and $q$-Hodge complexes for $\A^{d}_{\ZZ},(\GG_{m})^{d}$ using the $q$-derivatives $\nabla_{i}^{q}$ and modified $q$-derivatives $\widetilde{\nabla}_{i}^{q}$, respectively. This recovers, for example, the modules with $q$-connection over $\GG_{m}$ as the modules over the $q$-torus, where the operation $q$-commutes $xy=qyx$. 

We now consider the construction of the $q$-de Rham and $q$-Hodge complexes more generally in the case where the $T_{i}$ are invertible and using the logarithmic $q$-derivative $\nabla_{i}^{q,\log}=T_{i}\nabla_{i}^{q}$. We first define these in the case $R=\ZZ[q^{\pm}][\underline{T}^{\pm}]=\ZZ[q^{\pm}][T_{1}^{\pm},\dots,T_{d}^{\pm}]$. 
\begin{definition}[Logarithmic $q$-Derivative]\label{def: logarithmic q-derivative}
    Let $R=\ZZ[q^{\pm}][T_{1}^{\pm},\dots,T_{d}^{\pm}]$. The logarithmic $q$-derivative $\nabla_{i}^{q,\log}:R\to R$ for $1\leq i\leq d$ is defined by 
    $$\nabla_{i}^{q}(f)=\frac{\gamma_{i}(f)-f}{q-1}.$$
\end{definition}
\begin{definition}[Modified Logarithmic $q$-Derivative]\label{def: modified logarithmic q-derivative}
    Let $R=\ZZ[q^{\pm}][T_{1}^{\pm},\dots,T_{d}^{\pm}]$. The modified logarithmic $q$-derivative $\widetilde{\nabla}_{i}^{q,\log}:R\to R$ for $1\leq i\leq d$ is defined by 
    $$\widetilde{\nabla}_{i}^{q}(f)=\gamma_{i}(f)-f.$$
\end{definition}
\begin{remark}\label{rmk: commutation for log q-connections}
    The commutation relation for the ordinary logarithmic $q$-derivative are given by $\gamma_{i}T_{i}=qT_{i}\gamma_{i}$ since multiplying by $T_{i}$ and applying the map $T_{i}\mapsto qT_{i}$ is the same as applying the map $T_{i}\mapsto qT_{i}$ and multiplying by $qT_{i}$. 
\end{remark}
\begin{example}
    Using \Cref{rmk: commutation for log q-connections}, we deduce that category of logarithmic $q$-connections on $\GG_{m}$ are modules over the ring $\ZZ[q^{\pm}]\{T^{\pm},\gamma\}/(\gamma T-q T\gamma)$ (cf. \Cref{ex: A1 with Weyl algebra}). 
\end{example}

We undertake the task of constructing the $q$-de Rham and $q$-Hodge complexes for general smooth $\ZZ$-schemes $X$ locally admitting an \'{e}tale framing. For simplicity, we will restrict our attention to the case where $X=\spec(R)$ with $R$ a smooth $\ZZ$-algebra and $\square:X\to(\GG_{m})^{d}$ is \'{e}tale (equivalently, $\ZZ[T_{1}^{\pm},\dots,T_{d}^{\pm}]\to R$ \'{e}tale). 

If we were to mirror the constructions of \Cref{def: q-connections on modules,def: modified q-connections on modules}, we would want to produce $R[q^{\pm}]$-modules with commuting semilinear endomorphisms $\gamma_{i,M}:M\to M$ (used to produce $\nabla^{q}_{i,M},\widetilde{\nabla}_{i,M}^{q}$). This semilinearity ought be defined in terms of $\gamma_{i,R}:R[q^{\pm}]\to R[q^{\pm}]$ which extend $\gamma_{i}$ on $\ZZ[q^{\pm}][\underline{T}^{\pm}]$, but there is no reason such maps should exist. Put in other -- more geometric -- terms, the automorphisms $\gamma_{i}$ on $(\GG_{m})^{d}$ need not lift along the map $\square:X\to(\GG_{m})^{d}$.

Completion allows us to resolve this issue: after $(q-1)$-adic completion, there are unique such $\gamma_{i,R}:R[[q-1]]\to R[[q-1]]$ restricting to the identity modulo $(q-1)$. This is a consequence of the infintesmal lifting property for (formally) \'{e}tale maps \cite[\href{https://stacks.math.columbia.edu/tag/00UP}{Tag 00UP}]{stacks-project}: 
$$% https://q.uiver.app/#q=WzAsNCxbMCwxLCJSW1txLTFdXSJdLFsyLDAsIlJbW3EtMV1dIl0sWzAsMCwiXFxaWltbcS0xXV1bXFx1bmRlcmxpbmV7VH1ee1xccG19XSJdLFsyLDEsIlIiXSxbMSwzLCJcXHBtb2R7KHEtMSl9Il0sWzAsMywiXFxwbW9keyhxLTEpfSIsMl0sWzIsMCwiXFxzcXVhcmUiLDJdLFsyLDEsIlxcc3F1YXJlXFxjaXJjXFxnYW1tYV97aX0iXSxbMCwxLCJcXGV4aXN0cyFcXGdhbW1hX3tpLFJ9IiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZG90dGVkIn19fV1d
\begin{tikzcd}
	{\ZZ[[q-1]][\underline{T}^{\pm}]} && {R[[q-1]]} \\
	{R[[q-1]]} && R.
	\arrow["{\square\circ\gamma_{i}}", from=1-1, to=1-3]
	\arrow["\square"', from=1-1, to=2-1]
	\arrow["{\pmod{(q-1)}}", from=1-3, to=2-3]
	\arrow["{\exists!\gamma_{i,R}}"{description}, dotted, from=2-1, to=1-3]
	\arrow["{\pmod{(q-1)}}"', from=2-1, to=2-3]
\end{tikzcd}$$
More formally, $\square:\ZZ[\underline{T}^{\pm}]\to R$ is \'{e}tale, and \'{e}taleness is preserved under base change, so $\square:\ZZ[[q-1]][\underline{T}^{\pm}]\to R[[q-1]]$ is \'{e}tale and $R[[q-1]]\to R$ is an infinitesmal thickening, so the desired lift exists rendering the entire diagram commutative. Geometrically, $(q-1)$-adic completion the automorphisms $\gamma_{i}$ on $(\GG_{m})^{d}$ are infinitesmally close to the identity, hence lift uniquely along the framing map (that is, the framing map on schemes $\square:\spec(R[[q-1]])\to\ZZ[[q-1]][\underline{T}^{\pm}]$). This allows us to define (modified/logarithmic) $q$-derivatives and the notion of modules with (modified/logarithmic) $q$-connection. This notion is illustrated in the following equivalence of categories. 
\begin{lemma}\label{lem: equivalence of categories}
    There is an equivalence of categories 
    $$\left\{\substack{\text{\'{e}tale }\ZZ[q^{\pm}][\underline{T}^{\pm}]/(q-1)^{n} \\ \text{algebras}}\right\}\simeq\left\{\substack{\text{\'{e}tale }\ZZ[\underline{T}^{\pm}] \\ \text{algebras}}\right\}.$$
\end{lemma}
\begin{proof}
    See \cite[\href{https://stacks.math.columbia.edu/tag/039R}{Tag 039R}]{stacks-project}. 
\end{proof}
\begin{theorem}[Bhatt-Scholze, {\cite[\S 16]{PrismsPrismatic}}; Wagner, {\cite[Thm. 1.5]{WagnerQWittQHodge}}]
    Let $(R,\square)$ be a smooth framed $\ZZ$-algebra. The $q$-de Rham complex $q\dash\Omega_{(R,\square)/\ZZ[[q-1]]}^{\bullet}$ given by 
    $$R[[q-1]]\xrightarrow{(\nabla_{i}^{q})_{i=1}^{d}}\bigoplus_{i=1}^{d}R[[q-1]]\longrightarrow\dots$$
    as an object of $\Dscr(\ZZ[[q-1]])$ is canonically independent of the choice of coordinates. 
\end{theorem}
Such coordinate independence is somewhat easy to deduce in the case where $R$ is a $\QQ$-algebra. 
\begin{example}[{\cite[Lem. 4.1]{qDeformations};\cite[Lem. 12.4]{BMS1}}]\label{ex: translation between connections and q-connections}
    Consider the case of a smooth framed $\QQ$-algebra $(R,\square)$ where $\square:\spec(R)\to\GG_{m,\QQ}$. We can use Taylor's theorem to write 
    $$f(qT)=f(T)+\log(q)(\nabla^{\log}f)(T)+\frac{1}{2}\log(q)^{2}((\nabla^{\log})^{2}f)(T)+\dots$$
    where $\log(q)=\sum_{n\geq0}(-1)^{n-1}\frac{(q-1)^{n}}{n}\in\QQ[[q-1]]$ and $\nabla^{\log}f(T)=\frac{1}{f(T)}f'(T)$. So taking the difference of $f(qT)$ and $f(T)$, we find the operators $\nabla^{q,\log},\widetilde{\nabla}^{q,\log}$ are given by 
    \begin{align*}
        \nabla^{q,\log} &= \frac{\log(q)}{(q-1)}(\nabla^{\log}f)(T)+\frac{1}{2}\frac{\log(q)^{2}}{(q-1)}((\nabla^{\log})^{2}f)(T)+\dots\\
        \widetilde{\nabla}^{q,\log} &= \log(q)(\nabla^{\log}f)(T)+\frac{1}{2}\log(q)^{2}((\nabla^{\log})^{2}f)(T)+\dots.
    \end{align*}
    Using that $\widetilde{\nabla}^{\log}=\log(q)\nabla^{\log}$ we get 
    $$\widetilde{\nabla}^{q,\log}=\widetilde{\nabla}^{\log}+\frac{1}{2}(\widetilde{\nabla}^{\log})^{2}+\dots$$
    we get that $\widetilde{\nabla}^{q,\log}=\exp(\widetilde{\nabla}^{\log})+1$. In particular, for smooth framed $\QQ$-algebras, the data of modified logarithmic $q$-connections are equivalent to modified logarithmic connections up to a transformation, and allow us to interpolate between the two structures. 
\end{example}
\Cref{ex: translation between connections and q-connections} yields the following more general result. 
\begin{proposition}\label{prop: R-modules with ordinary connection}
    Let $(R,\square)$ be a smooth framed $\QQ$-algebra. There is an symmetric monoidal equivalence of categories 
    $$\left\{\substack{(q-1)\text{-adically complete }R[[q-1]] \\ \text{-modules with }q\text{-connection}}\right\}\simeq\left\{\substack{(q-1)\text{-adically complete }R[[q-1]] \\ \text{-modules with connection}}\right\}.$$
    Moreover, these categories are independent of choice of coordinates on $R[[q-1]]$. 
\end{proposition}
\begin{proof}[Proof Outline]
    The computation of \Cref{ex: translation between connections and q-connections} in several variables (cf. \cite[Lem. 4.1]{qDeformations}) shows an equivalence of data between modified logarithmic $q$-connections and modified logarithmic connections, and since we are working over $\QQ$ and the torus, these are the same as ordinary ($q$-)connections. Thus for a fixed $(q-1)$-adically complete $R[[q-1]]$-module $M$ with $q$-connection, there is a unique ordinary connection with which it can be endowed, and conversely.
    
    The latter statement follows from the observation that the latter category of $(q-1)$-adically complete $R[[q-1]]$-modules with connection are visibly coordinate independent. 
\end{proof}
As in the case of $(\GG_{m})^{d}$ in \Cref{prop: algebra structures on RHom unit Ad and Gm} (i), we have in this case the following result. 
\begin{corollary}\label{corr: modules with q-connection are coordinate independent}
    Let $(R,\square)$ be a framed $\QQ$-algebra and denote the category of $(q-1)$-adically complete $R[[q-1]]$-modules with $q$-connection by $q\dash\Mod_{R[[q-1]]}$. The $q$-de Rham complex $q\dash\Omega_{(R,\square)/\QQ}^{\bullet}$ computes $R\Hom_{q\dash\Mod_{R[[q-1]]}}(\mathbbm{1},\mathbbm{1})$ and is canonically independent of coordinates. 
\end{corollary}
We seek to treat the case of modified $q$-connections expressing logarithmic connections in terms of ordinary ones, but the case of modified $q$-connections is more subtle as the convergence of the exponential becomes problematic. 

To that end, we introduce the following notion. 
\begin{definition}[$h$-Connections]\label{def: h-connection}
    Let $R$ be a $\QQ$-algebra. A $h$-connection over $R[h]$ is an $R[h]$-module $M$ with a map $\widetilde{\nabla}_{M}:M\to M\otimes_{R}\Omega^{1}_{R/\QQ}$ satisfying $(\widetilde{\nabla}_{M})^{2}:M\to M\otimes_{R}\Omega^{2}_{R/\QQ}$ the zero map and 
    $$\widetilde{\nabla}_{M}(fm)=h\cdot\nabla(f)\cdot m+f\cdot\widetilde{\nabla}_{M}(m).$$
\end{definition}
\begin{remark}
    Such constructions are known as $\lambda$-connections in the literature and appear in Hodge and twistor theory. Specialization at $h=1$ recovers the ordinary notion of a connection, while specialization at $h=0$ gives a Higgs field (cf. \cite[\S 2.3]{MorrowTsuji}). 
\end{remark} 

We would like to see an analogue of \Cref{prop: R-modules with ordinary connection}. 
\begin{proposition}\label{prop: R-modules with modified connection}
    Let $(R,\square)$ be a smooth framed $\QQ$-algebra. There is an symmetric monoidal equivalence of categories 
    $$\left\{\substack{(q-1)\text{-adically complete }R[[q-1]]\text{-modules} \\ \text{with modified }q\text{-connection s.t. }\widetilde{\nabla}^{q,\log}_{i,M}\text{'s are top. nil.}}\right\}\simeq\left\{\substack{h\text{-adically complete }R[[h]]\text{-modules} \\ \text{with }h\text{-connection s.t. }\widetilde{\nabla}_{M}\text{ is top. nil.}}\right\}$$
    $$% https://q.uiver.app/#q=WzAsMixbMiwwLCJcXGxlZnQoTSwoXFx3aWRldGlsZGV7XFxuYWJsYX1fe2ksTX1ee1xcbG9nfSlfe2k9MX1ee2R9XFxyaWdodCkiXSxbMCwwLCJcXGxlZnQoTSwoXFx3aWRldGlsZGV7XFxuYWJsYX1ee3EsXFxsb2d9X3tpLE19KV97aT0xfV57ZH1cXHJpZ2h0KSJdLFswLDEsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1hcHMgdG8ifX19XV0=
    \begin{tikzcd}
        {\left(M,(\widetilde{\nabla}^{q,\log}_{i,M})_{i=1}^{d}\right)} && {\left(M,(\widetilde{\nabla}_{i,M}^{\log})_{i=1}^{d}\right)}
        \arrow[maps to, from=1-3, to=1-1]
    \end{tikzcd}$$
    where $h=(q-1)$ and $\widetilde{\nabla}^{q,\log}_{i,M}=\exp(\widetilde{\nabla}^{\log}_{i,M})-1$. Moreover, these categories are independent of choice of coordinates on $R[[q-1]]\cong R[[h]]$. 
\end{proposition}
\begin{proof}[Proof Outline]
    Observing that the topological nilpotence of the operators imply convergence of the exponential, the proof outline of \Cref{prop: R-modules with ordinary connection} goes through verbatim. The latter statement is immediate from the former as the latter category is visibly independent of coordinates.
\end{proof}
\begin{remark}
    The topological nilpotence condition is typically satisfied in practice. Regardless, this is likely the best construction one can hope for -- it is unlikely that one can produce an equivalence on larger categories.  
\end{remark}
Once again, observing that the right hand side is coordinate independent, we get coordinate independence for modules with modified $q$-connections. 
\begin{corollary}\label{corr: modules with modified q-connection are coordinate independent}
    Let $(R,\square)$ be a framed $\QQ$-algebra and denote the category of $(q-1)$-adically complete $R[[q-1]]$-modules with modified $q$-connection where the operators $\widetilde{\nabla}_{i,M}^{q,\log}$ are topologically nilpotent by $q\dash\widetilde{\Mod}_{R[[q-1]]}$. The $q$-Hodge complex $q\dash\Hdg_{(R,\square)/\QQ}$ given by 
    $$R[[q-1]]\xrightarrow{(\widetilde{\nabla}_{i}^{q})_{i=1}^{d}}\bigoplus_{i=1}^{d}R[[q-1]]\longrightarrow\dots$$
    computes $R\Hom_{q\dash\widetilde{\Mod}_{R[[q-1]]}}(\mathbbm{1},\mathbbm{1})$ and is canonically independent of coordinates. 
\end{corollary}
\begin{remark}
    The operators are topologically nilpotent on the symmetric monoidal unit as they are defined by mutliplying the ordinary operator by $(q-1)$. Moreover, the $\Ext$-terms classify extensions, which remain topologically nilpotent. Thus the $R\Hom(-,-)$ computation in this case remains unaffected by passage to the subcategory where the operations are topologically nilpotent. 
\end{remark}
Deferring the discussion of coordinate independence integrally -- which can be done by similarly isolating subcategories of modules with convergence conditions on their $q$-connections -- we seek to understand the preceding constructions of modules with (modified) $q$-connections not just in the $(q-1)$-adically complete but more generally in the Habiro case, namely at all roots of unity. 

In the preceding discussion, $(q-1)$-adic completion allowed us to leverage \'{e}taleness of the map to produce a unique lift of the endomorphism on $\ZZ[q^{\pm}][\underline{T}^{\pm}]$ since $\gamma_{i}$ was infinitesmally close to the identity after $(q-1)$-adic completion. But noticing that $\zeta_{p}$ is $p$-adically close to 1, we can attempt a similar approach using $(q-\zeta_{p})$-adic completion. 
\begin{example}\label{ex: not stable under aut}
    Let $(R,\square)$ be a framed $\ZZ$-algebra with $\square:\spec(R)\to\GG_{m}$. This gives a map 
    $$\ZZ[T^{\pm}]_{p}^{\wedge}[[q-1]]\longrightarrow R_{p}^{\wedge}[[q-1]]$$
    which on specialization to $q=\zeta_{p}$ yields 
    $$\ZZ_{p}[\zeta_{p}]\langle T^{\pm}\rangle\longrightarrow R_{p}^{\wedge}[\zeta_{p}]$$
    where using that $\zeta_{p}$ is close to 1 $p$-adically, $\gamma:\ZZ_{p}[\zeta_{p}]\langle T^{\pm}\rangle\to\ZZ_{p}[\zeta_{p}]\langle T^{\pm}\rangle$ by $T\mapsto \zeta_{p}T$ lifts uniquely to an endomorphism $\gamma_{R}:R_{p}^{\wedge}[\zeta_{p}]\to R_{p}^{\wedge}[\zeta_{p}]$. However, $R[\zeta_{p}]\hookrightarrow R^{\wedge}_{p}[\zeta_{p}]$ may not have image stable under $\gamma_{R}$, for example, $\GG_{m}\setminus\{1\}$ is not stable under multiplication by $\zeta_{p}$. 
\end{example}
So as seen in the example above, we will require an alternative description. For this, we produce an endomorphism of $R_{p}^{\wedge}[\zeta_{p}]$ that does globalize to all of $R$ using the Frobenius. 
\begin{example}\label{ex: endomorphism on Rp}
    The Frobenius map $\varphi:\ZZ[T^{\pm}]\to\ZZ[T^{\pm}]$ by $T\mapsto T^{p}$ lifts uniquely to $R_{p}^{\wedge}$ and reduces to the $p$th power map $\varphi_{R/(p)}:R/(p)\to R/(p)$ modulo $(p)$. Via the Frobenius, we get an isomorphism  
    $$% https://q.uiver.app/#q=WzAsNCxbMCwwLCJSXntcXHdlZGdlfV97cH1cXG90aW1lc197XFxaWltUXntcXHBtfV19XFxaWltUXntcXHBtMS9wfV0iXSxbMiwwLCJSXntcXHdlZGdlfV97cH0iXSxbMCwxLCJUXnsxL3B9Il0sWzIsMSwiVCJdLFswLDEsIlxcdmFycGhpIl0sWzIsMywiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibWFwcyB0byJ9fX1dXQ==
    \begin{tikzcd}
        {R^{\wedge}_{p}\otimes_{\ZZ[T^{\pm}]}\ZZ[T^{\pm1/p}]} && {R^{\wedge}_{p}} \\
        {T^{1/p}} && T
        \arrow["\varphi", from=1-1, to=1-3]
        \arrow[maps to, from=2-1, to=2-3]
    \end{tikzcd}$$
    since after $p$-completion $R_{p}^{\wedge}$ is finite free over itself -- $R_{p}^{\wedge}$ contains itself as a subring where ``only $p$-powers are allowed.''
\end{example}
\begin{example}\label{ex: endomorphism Rp with root of unity}
    Building on \Cref{ex: endomorphism on Rp}, we similarly have an isomorphism 
    $$% https://q.uiver.app/#q=WzAsNCxbMCwwLCJSXntcXHdlZGdlfV97cH1cXG90aW1lc197XFxaWltUXntcXHBtfV19XFxaWltcXHpldGFfe3B9XVtUXntcXHBtMS9wfV0iXSxbMiwwLCJSXntcXHdlZGdlfV97cH1bXFx6ZXRhX3twfV0iXSxbMCwxLCJUXnsxL3B9Il0sWzIsMSwiVCJdLFswLDEsIlxcdmFycGhpIl0sWzIsMywiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibWFwcyB0byJ9fX1dXQ==
    \begin{tikzcd}
        {R^{\wedge}_{p}\otimes_{\ZZ[T^{\pm}]}\ZZ[\zeta_{p}][T^{\pm1/p}]} && {R^{\wedge}_{p}[\zeta_{p}]} \\
        {T^{1/p}} && T
        \arrow["\varphi", from=1-1, to=1-3]
        \arrow[maps to, from=2-1, to=2-3]
    \end{tikzcd}$$
    where the automorphism $\gamma_{R_{p}^{\wedge}[\zeta_{p}]}:R_{p}^{\wedge}[\zeta_{p}]\to R_{p}^{\wedge}[\zeta_{p}]$ by $T\mapsto\zeta_{p}T$ lifts to the automorphism $\id_{R_{p}^{\wedge}}\otimes[T^{1/p}\mapsto\zeta_{p}T^{1/p}]$ on $R^{\wedge}_{p}\otimes_{\ZZ[T^{\pm}]}\ZZ[\zeta_{p}][T^{\pm1/p}]$. Observe that since $T\in R^{\wedge}_{p}\otimes_{\ZZ[T^{\pm}]}\ZZ[\zeta_{p}][T^{\pm1/p}]$ is sent to $T^{p}\in R_{p}^{\wedge}[\zeta_{p}]$, it is fixed by $\gamma_{R_{p}^{\wedge}[\zeta_{p}]}$ as $\gamma_{R_{p}^{\wedge}[\zeta_{p}]}(T^{p})=(\zeta_{p}T)^{p}=T^{p}$. Evidently we have an inclusion into the $p$-completion
    $$R\otimes_{\ZZ[T^{\pm}]}\ZZ[\zeta_{p}][T^{\pm 1/p}]\hookrightarrow R^{\wedge}_{p}\otimes_{\ZZ[T^{\pm}]}\ZZ[\zeta_{p}][T^{\pm1/p}]$$
    but since $\gamma_{R_{p}^{\wedge}[\zeta_{p}]}$ is given by the identity on the $R^{\wedge}_{p}$ factor, it is stable under the automorphism, resolving the issue posed at the end of \Cref{ex: not stable under aut}. 
\end{example}
This motivates the following definiton. 
\newpage
\begin{definition}[Root of Unity Algebra]\label{def: root of unity algebra}\marginpar{The notation here is that of the author, not of the instructor. }
    Let $(R,\square)$ be a smooth framed $\ZZ$-algebra and $m\geq 1$. Define the $m$th root of unity algebra $R^{(m)}$ to be the \'{e}tale $\ZZ[\zeta_{m},\underline{T}^{\pm}]$-algebra 
    $$R^{(m)}=R\otimes_{\ZZ[\underline{T}^{\pm}]}\ZZ[\zeta_{m}][\underline{T}^{\pm 1/m}]$$ 
    where $\ZZ[\zeta_{m},\underline{T}^{\pm}]$-algebra structure on $R^{(m)}$ is by $T_{i}\mapsto T_{i}^{1/m}$ and equipped with the automorphism $\gamma^{(m)}_{i}=\id_{R}\otimes[T_{i}\mapsto \zeta_{m}T_{i}]$ lifting $T_{i}\mapsto\zeta_{m}T_{i}$ on $\ZZ[\zeta_{m},\underline{T}^{\pm}]$. 
\end{definition}
This gives a well-defined construction. 
\begin{example}
    Let $X=\GG_{m}\setminus\{1\}=\spec(\ZZ[T^{\pm},\frac{1}{1-T}])$. The associated root of unity algebra $R^{(m)}$ is given by $\ZZ[\zeta_{m}][T^{\pm},\frac{1}{1-T^{m}}]$ and the Zariski spectrum is visibly stable under $T\mapsto \zeta_{m}T$. 
\end{example}
By unique deformations of \'{e}tale algebras, the construction of \Cref{def: root of unity algebra} extends from the specialization at $q=\zeta_{m}$ to $\Phi_{m}(q)$-adic completion, where $\Phi_{m}(q)$ is the $m$th cyclotomic polynomial. More formally: 
\begin{definition}[Completed Root of Unity Algebra]\label{def: completed root of unity algebra}\marginpar{Once again, author's notation.}
    Let $(R,\square)$ be a smooth framed $\ZZ$-algebra and $m\geq 1$. Define the completed $m$th root of unity algebra $R_{m}$ to be the formally \'{e}tale $\ZZ[q^{\pm}][\underline{T}^{\pm}]^{\wedge}_{\Phi_{m}(q)}$-algebra $(R^{(m)}[q^{\pm}])_{\Phi_{m}(q)}^{\wedge}$ and equipped with the automorphism $\gamma_{i,R_{m}}:R_{m}\to R_{m}$ lifting $\gamma_{i}:\ZZ[q^{\pm}][\underline{T}^{\pm}]^{\wedge}_{\Phi_{m}(q)}\to\ZZ[q^{\pm}][\underline{T}^{\pm}]^{\wedge}_{\Phi_{m}(q)}$. 
\end{definition}
\begin{remark}
    The lifting diagram is given by 
    $$% https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXFpaW3Fee1xccG19XVtcXHVuZGVybGluZXtUfV57XFxwbX1dXntcXHdlZGdlfV97XFxQaGlfe219KHEpfSJdLFsyLDAsIlJfe219Il0sWzIsMSwiUi4iXSxbMCwxLCJSX3ttfSJdLFswLDEsIlxcc3F1YXJlXFxjaXJjXFxnYW1tYV97aX0iXSxbMSwyLCJcXHBtb2R7XFxQaGlfe219KHEpfSJdLFswLDMsIlxcc3F1YXJlIiwyXSxbMywyLCJcXHBtb2R7XFxQaGlfe219KHEpfSIsMl0sWzMsMSwiXFxleGlzdHMhXFxnYW1tYV97aSxSX3ttfX0iLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkb3R0ZWQifX19XV0=
    \begin{tikzcd}
        {\ZZ[q^{\pm}][\underline{T}^{\pm}]^{\wedge}_{\Phi_{m}(q)}} && {R_{m}} \\
        {R_{m}} && {R.}
        \arrow["{\square\circ\gamma_{i}}", from=1-1, to=1-3]
        \arrow["\square"', from=1-1, to=2-1]
        \arrow["{\pmod{\Phi_{m}(q)}}", from=1-3, to=2-3]
        \arrow["{\exists!\gamma_{i,R_{m}}}"{description}, dotted, from=2-1, to=1-3]
        \arrow["{\pmod{\Phi_{m}(q)}}"', from=2-1, to=2-3]
    \end{tikzcd}$$
\end{remark}
Having produced these \'{e}tale algebras $R_{m}$ and their endomorphisms $\gamma_{i,R_{m}}$ for each root of unity $\zeta_{m}$, we can similarly define derivatives and modules with (modified) connections over these rings. \emph{A priori}, these give distinct constructions for each $m\geq0$, but we can seek to combine them using a ``Habiro ring''-like construction in a by gluing where roots of unity meet in positive characteristic. In particular, $\zeta_{pm}=\zeta_{m}$ in characteristic $p$, so the Frobenius gives an isomorphism 
\begin{equation}\label{eqn: gluing map Frobenius}
    \tiny
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJSXnsocG0pfS8ocClcXGNvbmcgUi8ocClcXG90aW1lc197XFxGRl97cH1bXFx1bmRlcmxpbmV7VH1ee1xccG19XX1cXEZGX3twfVxcbGVmdFtcXHpldGFfe3BtfSxcXHVuZGVybGluZXtUfV57XFxwbSAxL3BtfVxccmlnaHRdIl0sWzIsMCwiUi8ocClcXG90aW1lc197XFxGRl97cH1bXFx1bmRlcmxpbmV7VH1ee1xccG19XX1cXEZGX3twfVxcbGVmdFtcXHpldGFfe219LFRee1xccG0gMS9tfVxccmlnaHRdXFxjb25nIFJeeyhtKX0vKHApIl0sWzAsMSwiVF57MS9wbX0iXSxbMiwxLCJUXnsxL219Il0sWzAsMV0sWzIsMywiIiwxLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoibWFwcyB0byJ9fX1dXQ==
    \begin{tikzcd}
        {R^{(pm)}/(p)\cong R/(p)\otimes_{\FF_{p}[\underline{T}^{\pm}]}\FF_{p}\left[\zeta_{pm},\underline{T}^{\pm 1/pm}\right]} && {R/(p)\otimes_{\FF_{p}[\underline{T}^{\pm}]}\FF_{p}\left[\zeta_{m},T^{\pm 1/m}\right]\cong R^{(m)}/(p)} \\
        {T^{1/pm}} && {T^{1/m}.}
        \arrow[from=1-1, to=1-3]
        \arrow[maps to, from=2-1, to=2-3]
    \end{tikzcd}
    \normalsize
\end{equation}
Moreover, these constructions deform uniquely over the $\Phi_{m}(q)$-adic completions allowing us to define the Habiro ring of a framing and repeat the process to define categories of modules with (modified) $q$-connections over the Habiro ring of a framing $\Hcal_{(R,\square)}$ which is an algebra over the Habiro ring of the torus $\Hcal_{\ZZ[\underline{T}^{\pm}]}$, where we have defined the latter to be as follows. 
\begin{definition}[Habiro Ring of $(\GG_{m})^{d}$]\label{def: Habiro ring of base}
    The Habiro ring of $(\GG_{m})^{d}$ is given by the completion $\Hcal_{\ZZ[\underline{T}^{\pm}]}=\lim_{n\in\NN}\ZZ[q^{\pm}][\underline{T}^{\pm}]^{\wedge}_{\Phi_{n}(q)}$ where $\Phi_{n}(q)$ is the $n$th cyclotomic polynomial. 
\end{definition}